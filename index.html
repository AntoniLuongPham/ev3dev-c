<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LEGO Mindstorms EV3 Debian C library + Python, Ruby and Perl wrappers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="favicon.ico" rel="icon" type="image/x-icon"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LEGO Mindstorms EV3 Debian C library + Python, Ruby and Perl wrappers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><style>
div, p, ol {
    font-size: 110%;
    color: #333333;
    font-family: Georgia, serif;
    line-height: 1.5;
}
</style>
<center> <pre class="fragment"> 
 ____ __     ____   ___    ____ __         (((((()
| |_  \ \  /   ) ) | |  ) | |_  \ \  /  \(@)- /   
|_|__  \_\/  __)_) |_|_/  |_|__  \_\/   /(@)- \   
                                           ((())))
 
</pre> </center><h2><a href="https://github.com/in4lio/ev3dev-c/">ev3dev-c</a> 0.9b8 (for kernel 4.4.61-20-ev3dev-ev3)</h2>
<h2>The library hierarchic structure</h2>
<h3>Low-level</h3>
<p>Low level contains functions for <a class="el" href="group__ev3.html">local</a> and <a class="el" href="group__ev3__link.html">remote</a> access to the file system of the EV3 brick. The following code will write <code>"heartbeat"</code> string to the specified file (if running on the brick) or will send both of the arguments to the brick using UDP message (if running on the remote computer).</p>
<div class="fragment"><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3.html#gab5848665617f05a2ad195e93ef13db03">ev3_write</a>( <span class="stringliteral">&quot;/sys/class/leds/ev3:red:right/trigger&quot;</span>, <span class="stringliteral">&quot;heartbeat&quot;</span> );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="io_8c-example.html">io.c</a></p>
<p>For more information about remote access to the brick, please, read <a href="https://github.com/in4lio/ev3dev-c/tree/master/source/ev3/ev3_link">"ev3_link"</a>.</p>
<h3>Mid-level</h3>
<p>Mid-level provides the performance optimized library that is intended to cover all main functionality of "ev3dev".</p>
<p>To start working with the library, you have to call the library initialization <code><a class="el" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc" title="Initialize the remote access and detect the EV3 brick. This function do nothing in the case of the lo...">ev3_init()</a></code> which will connect to the brick over network if your program is running on a remote computer, then, to detect devices plugged to the brick, please call initialization for each of the necessary class of devices, e.g. <code><a class="el" href="group__ev3__tacho.html#gaa376f86876e36dfdf105b20d233ca246" title="Detect connected tachos. ">ev3_tacho_init()</a></code>. Do not forget to call <code><a class="el" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae" title="Uninitialize the remote access. ">ev3_uninit()</a></code> at the program end.</p>
<p>All functions to access the device's attributes require the sequence number of device <code>sn</code>. You can find the sequence number in the descriptor table, which was filled during initialization, e.g. <code><a class="el" href="group__ev3__tacho.html#ga0e9cac5217fc0c57b236780ad3f64495">ev3_search_tacho(LEGO_EV3_L_MOTOR, &amp;sn, 0)</a></code>.</p>
<p>Access to some frequently used string attributes can be performed by the index, for example, you can just check the mode index: </p><div class="fragment"><div class="line">( <a class="code" href="group__ev3__sensor.html#ga7ca5a57923456749d67b85ee5272974d">get_sensor_mode_inx</a>( sn ) == IR_IR_PROX )</div></div><!-- fragment --><p> instead of string comparison: </p><div class="fragment"><div class="line">( <a class="code" href="group__ev3__sensor.html#ga9301be86da3b17560a73b1baa96c2bc9">get_sensor_mode</a>( sn, buf, <span class="keyword">sizeof</span>( buf )) &amp;&amp; ( strcmp( buf, <span class="stringliteral">&quot;IR-PROX&quot;</span> ) == 0 ))</div></div><!-- fragment --><p>See comprehensive example based on coroutines – <a class="el" href="drive_8c-example.html">drive.c</a></p>
<p>A few more examples:</p>
<p>&bull; Using <a class="el" href="group__ev3__led.html">LEDs</a>, see <a href="https://github.com/ev3dev/ev3dev/wiki/Using-the-LEDs">"Using LEDs"</a>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> ok;</div><div class="line">uint8_t val;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line">ok = <a class="code" href="group__ev3__led.html#ga0669db839c16b88af3ce084225933eeb">get_led_brightness</a>( EV3_GREEN_LEFT, &amp;val );</div><div class="line"><span class="keywordflow">if</span> ( ok ) {</div><div class="line">    printf( <span class="stringliteral">&quot;EV3_GREEN_LEFT is %s\n&quot;</span>, ( val ) ? <span class="stringliteral">&quot;ON&quot;</span> : <span class="stringliteral">&quot;OFF&quot;</span> );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="rcx_led_8c-example.html">rcx_led.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__sensor.html">sensors</a>, see <a href="http://www.ev3dev.org/docs/drivers/lego-sensor-class/">"LEGO Sensor Class"</a>:</p>
<div class="fragment"><div class="line">uint8_t sn;</div><div class="line"><span class="keywordtype">int</span> val;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__sensor.html#gab41914d0b717bdddcc3acf24a815d0f9">ev3_search_sensor</a>( LEGO_EV3_TOUCH, &amp;sn, 0 )) {</div><div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__ev3__sensor.html#ga79176947594e81b074496bdb1f63257e">get_sensor_value</a>( 0, sn, &amp;val )) {</div><div class="line">        printf( <span class="stringliteral">&quot;TOUCH sensor value = %d\n&quot;</span>, val );</div><div class="line">    }</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="sensor_8c-example.html">sensor.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__tacho.html">tacho motors</a>, see <a href="http://www.ev3dev.org/docs/drivers/tacho-motor-class/">"Tacho Motor Class"</a>:</p>
<div class="fragment"><div class="line">uint8_t sn;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__tacho.html#gaa376f86876e36dfdf105b20d233ca246">ev3_tacho_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__tacho.html#ga0e9cac5217fc0c57b236780ad3f64495">ev3_search_tacho</a>( LEGO_EV3_L_MOTOR, &amp;sn, 0 )) {</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga256523642301ba6d42b7dbd9777ea956">set_tacho_stop_action_inx</a>( sn, TACHO_BRAKE );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#gaf5209d3f9ea9bf2534a5844e129e6e44">set_tacho_speed_sp</a>( sn, 500 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga399fca1883b165840335b62734446614">set_tacho_time_sp</a>( sn, 5000 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#gaae08a98d6e5247b9c577413f105c4095">set_tacho_ramp_up_sp</a>( sn, 2000 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga35ae9b4fceef4302b3fb4af5ec4cdb3f">set_tacho_ramp_down_sp</a>( sn, 2000 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga18d34a61655b346d155e1f5d2dec067d">set_tacho_command</a>( sn, <span class="stringliteral">&quot;run_timed&quot;</span> );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also - <a class="el" href="tacho_8c-example.html">tacho.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__dc.html">DC motors</a>, see <a href="http://www.ev3dev.org/docs/drivers/dc-motor-class/">"DC Motor Class"</a>:</p>
<div class="fragment"><div class="line">uint8_t sn, sn_port;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__port.html#ga5cf2b6f10962d9254e937c35de5e6f12">ev3_port_init</a>();</div><div class="line">sn_port = <a class="code" href="group__ev3__port.html#gabb20ecf06c31978e7934f295e91cfc60">ev3_search_port</a>( OUTPUT_D, EXT_PORT__NONE_ );</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, OUTPUT_DC_MOTOR );</div><div class="line"></div><div class="line"><a class="code" href="group__ev3__dc.html#ga6ad79a88f6e3162c3b5524c75d3ef53a">ev3_dc_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__dc.html#gab4a459c91982a562ee7b5153a4567184">ev3_search_dc_plugged_in</a>( OUTPUT_D, EXT_PORT__NONE_, &amp;sn, 0 )) {</div><div class="line">    <a class="code" href="group__ev3__dc.html#ga4c7152e8baf9cce399cf3d15d7fa0932">set_dc_duty_cycle_sp</a>( sn, 100 );</div><div class="line">    <a class="code" href="group__ev3__dc.html#ga6bcd86e19eae1da879cf89aa43e5118d">set_dc_command_inx</a>( sn, DC_RUN_FOREVER );</div><div class="line">    usleep( 5000000 );</div><div class="line">    <a class="code" href="group__ev3__dc.html#ga6bcd86e19eae1da879cf89aa43e5118d">set_dc_command_inx</a>( sn, DC_STOP );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, OUTPUT_AUTO );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also - <a class="el" href="dc_8c-example.html">dc.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__servo.html">servo motors</a>, see <a href="http://www.ev3dev.org/docs/drivers/servo-motor-class/">"Servo Motor Class"</a>:</p>
<div class="fragment"><div class="line">uint8_t sn, sn_port;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__port.html#ga5cf2b6f10962d9254e937c35de5e6f12">ev3_port_init</a>();</div><div class="line">sn_port = <a class="code" href="group__ev3__port.html#gabb20ecf06c31978e7934f295e91cfc60">ev3_search_port</a>( INPUT_1, EXT_PORT__NONE_ );</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, INPUT_NXT_ANALOG );</div><div class="line"><a class="code" href="group__ev3__port.html#ga8eaedd6342e57d15c0ec58a3319bed2e">set_port_set_device</a>( sn_port, ( <span class="keywordtype">char</span> *) <a class="code" href="group__ev3__sensor.html#gae5da273c4d2bf23cd4ce8f0ba86c385d">ev3_sensor_type</a>( MS_8CH_SERVO ));</div><div class="line"></div><div class="line"><a class="code" href="group__ev3__servo.html#ga03da03149b7b887293b11b07636ff337">ev3_servo_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__servo.html#ga244f742ff826160949d51418d81bfc1c">ev3_search_servo_plugged_in</a>( INPUT_1, EXT_PORT__NONE_, 1, &amp;sn, 0 )) {</div><div class="line">    <a class="code" href="group__ev3__servo.html#ga41c5d54d21eaf0bbd899fbf9cc91c071">set_servo_command_inx</a>( sn, SERVO_RUN );</div><div class="line">    <a class="code" href="group__ev3__servo.html#ga05fd5d16d64e3dd782217fe19bc6ff65">set_servo_position_sp</a>( sn, 100 );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, INPUT_AUTO );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="servo_8c-example.html">servo.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__port.html">EV3 ports</a>, see <a href="http://www.ev3dev.org/docs/ports/">"Input and Output Ports"</a>:</p>
<div class="fragment"><div class="line">uint8_t sn;</div><div class="line"><span class="keywordtype">char</span> s[ 256 ];</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__port.html#ga5cf2b6f10962d9254e937c35de5e6f12">ev3_port_init</a>();</div><div class="line">sn = <a class="code" href="group__ev3__port.html#gabb20ecf06c31978e7934f295e91cfc60">ev3_search_port</a>( INPUT_2, EXT_PORT__NONE_ );</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__port.html#ga9120bef4dc096bf5050aaf36a732a668">get_port_mode</a>( sn, s, <span class="keyword">sizeof</span>( s ))) {</div><div class="line">4   printf( <span class="stringliteral">&quot;INPUT_2 mode = %s\n&quot;</span>, s );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="port_8c-example.html">port.c</a></p>
<p>&bull; Using <a class="el" href="group__ev3__port.html">EV3 extended ports</a>:</p>
<div class="fragment"><div class="line">uint8_t sn, sn_port;</div><div class="line"><span class="keywordtype">int</span> val;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__port.html#ga5cf2b6f10962d9254e937c35de5e6f12">ev3_port_init</a>();</div><div class="line">sn_port = <a class="code" href="group__ev3__port.html#gabb20ecf06c31978e7934f295e91cfc60">ev3_search_port</a>( INPUT_1, HT_NXT_SMUX_PORT_2 );</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, INPUT_NXT_ANALOG );</div><div class="line"><a class="code" href="group__ev3__port.html#ga8eaedd6342e57d15c0ec58a3319bed2e">set_port_set_device</a>( sn_port, ( <span class="keywordtype">char</span> *) <a class="code" href="group__ev3__sensor.html#gae5da273c4d2bf23cd4ce8f0ba86c385d">ev3_sensor_type</a>( LEGO_NXT_TOUCH ));</div><div class="line"></div><div class="line"><a class="code" href="group__ev3__sensor.html#gab75a13924c51b25877b32afe23a20819">ev3_sensor_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__sensor.html#ga6a32526de823db654789e089153d587b">ev3_search_sensor_plugged_in</a>( INPUT_1, HT_NXT_SMUX_PORT_2, &amp;sn, 0 )) {</div><div class="line">    <span class="keywordflow">if</span> ( <a class="code" href="group__ev3__sensor.html#ga79176947594e81b074496bdb1f63257e">get_sensor_value</a>( 0, sn, &amp;val )) {</div><div class="line">        printf( <span class="stringliteral">&quot;TOUCH sensor value = %d\n&quot;</span>, val );</div><div class="line">    }</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3__port.html#ga4a7ca91eb942f587867c3026b9045004">set_port_mode_inx</a>( sn_port, INPUT_AUTO );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>&bull; Using <a class="el" href="group__ev3.html#ga65c112b457c01217b4f325720649aa89">keys</a> of the EV3 brick:</p>
<div class="fragment"><div class="line">uint8_t val;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><span class="keywordflow">do</span> <a class="code" href="group__ev3.html#ga65c112b457c01217b4f325720649aa89">ev3_read_keys</a>( &amp;val ); <span class="keywordflow">while</span> (( val &amp; EV3_KEY_BACK ) == 0 );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><h3>High-level</h3>
<p><a class="el" href="group__brick.html">"brick" library</a> is a simplified interface of "ev3dev-c". We use a mask of sockets (ports) instead of sequence numbers for access to devices, it allows to set identical attributes of several devices concurrently, but extended ports are not supported.</p>
<p>See example of using "brick" library, based on coroutines – <a class="el" href="remote_8c-example.html">remote.c</a></p>
<p>A few more examples:</p>
<p>&bull; Using <a class="el" href="group__brick.html">"brick" library</a> :</p>
<div class="fragment"><div class="line"><a class="code" href="group__brick.html#ga3e4859e1cec5e71ab3ecc422c8fbe8da">brick_init</a>();</div><div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__brick.html#ga31b1c4484eb597d0a4f39401efb31dae">tacho_is_plugged</a>(  OUTB | OUTC, LEGO_EV3_L_MOTOR )) {</div><div class="line">    <a class="code" href="group__brick.html#ga1e12dc8a1e237cbf80dff6f7bdb0e338">tacho_set_speed_sp</a>( OUTB | OUTC, <a class="code" href="group__brick.html#ga35aad34daa1e0d87b93b83575a679444">tacho_get_max_speed</a>( OUTB, 0 ) * 0.75 );  <span class="comment">// 75%</span></div><div class="line">    <a class="code" href="group__brick.html#ga3f8ef74a6307b0595d121fec6d7ce91c">tacho_run_forever</a>(  OUTB | OUTC );</div><div class="line">    <a class="code" href="group__brick.html#gad03fb048dad9e8d46b5e5b7d4f846b6d">sleep_ms</a>( 3000 );  <span class="comment">// 3 sec</span></div><div class="line">    <a class="code" href="group__brick.html#ga334e277d936e26b1520b51d385299827">tacho_stop</a>( OUTB );</div><div class="line">    <a class="code" href="group__brick.html#gad03fb048dad9e8d46b5e5b7d4f846b6d">sleep_ms</a>( 2000 );  <span class="comment">// 2 sec</span></div><div class="line">    <a class="code" href="group__brick.html#ga334e277d936e26b1520b51d385299827">tacho_stop</a>( OUTC );</div><div class="line">}</div><div class="line"><a class="code" href="group__brick.html#ga17470892412cad0d7a266c0fd0ce3f44">brick_uninit</a>();</div></div><!-- fragment --><p>&bull; Using <a class="el" href="group__ev3__light.html">light</a> module:</p>
<div class="fragment"><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__light.html#gac4fc35800d820c4ffe8a360ce2b26a90">set_light_blink</a>( LIT_LEFT, LIT_AMBER, 1000, 500 );</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a class="el" href="light_8c-example.html">light.c</a></p>
<h2>Python, Ruby, Perl and other languages</h2>
<p>The libraries for <a href="https://pypi.python.org/pypi/ev3dev-c/">Python</a>, Ruby and Perl have been generated using <a href="http://www.swig.org/">SWIG</a>. The SWIG interface file <code>ev3.i</code> is generated out of <a href="https://github.com/in4lio/ev3dev-c/blob/master/ev3.yu-i"><code>ev3.yu-i</code></a>.</p>
<h4>Features of Python library:</h4>
<ol type="1">
<li>The functions return the requested value as the second element of the result tuple;</li>
<li>Access to the descriptors of detected devices only through <code>ev3_&lt;class&gt;_desc</code> or <code>ev3_&lt;class&gt;_desc_&lt;field&gt;</code> functions (e.g. <a class="el" href="group__ev3__sensor.html#ga24f4e73e44c07eb9d6159c3a48c71cfa">ev3_sensor_desc</a>, <a class="el" href="group__ev3__port.html#gab7631bcf0bc20cd6a5424fe8ea160744">ev3_port_desc</a>);</li>
<li>Access to the global variables through <code>ev3</code> namespace.</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;color = [ <span class="stringliteral">&#39;?&#39;</span>, <span class="stringliteral">&#39;BLACK&#39;</span>, <span class="stringliteral">&#39;BLUE&#39;</span>, <span class="stringliteral">&#39;GREEN&#39;</span>, <span class="stringliteral">&#39;YELLOW&#39;</span>, <span class="stringliteral">&#39;RED&#39;</span>, <span class="stringliteral">&#39;WHITE&#39;</span>, <span class="stringliteral">&#39;BROWN&#39;</span> ]</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keywordflow">if</span> <span class="keywordflow">not</span> EV3_BRICK:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    ev3.brick_addr = <span class="stringliteral">&#39;192.168.0.244&#39;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>()</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<a class="code" href="group__ev3__sensor.html#gab75a13924c51b25877b32afe23a20819">ev3_sensor_init</a>()</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;ok, sn = <a class="code" href="group__ev3__sensor.html#gab41914d0b717bdddcc3acf24a815d0f9">ev3_search_sensor</a>( LEGO_EV3_UART_29 )</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keywordflow">if</span> ok:</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <a class="code" href="group__ev3__sensor.html#ga1ea9f37383446f9a701b9ed3b212a408">set_sensor_mode</a>( sn, <span class="stringliteral">&#39;COL-COLOR&#39;</span> )</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    ok, val = <a class="code" href="group__ev3__sensor.html#ga79176947594e81b074496bdb1f63257e">get_sensor_value</a>( 0, sn )</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="keywordflow">if</span> ok:</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        <span class="keywordflow">print</span> <span class="stringliteral">&#39;COLOR =&#39;</span>, color[ val ]</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>()</div></div><!-- fragment --><p>Using <a class="el" href="group__brick.html">"brick" library</a> with Python:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<a class="code" href="group__brick.html#ga3e4859e1cec5e71ab3ecc422c8fbe8da">brick_init</a>()</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keywordflow">if</span> <a class="code" href="group__brick.html#ga31b1c4484eb597d0a4f39401efb31dae">tacho_is_plugged</a>( OUTB | OUTC, LEGO_EV3_L_MOTOR ):</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <a class="code" href="group__brick.html#ga1e12dc8a1e237cbf80dff6f7bdb0e338">tacho_set_speed_sp</a>( OUTB | OUTC, <a class="code" href="group__brick.html#ga35aad34daa1e0d87b93b83575a679444">tacho_get_max_speed</a>( OUTB ) * 0.75 )  <span class="comment"># 75%</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    <a class="code" href="group__brick.html#ga3f8ef74a6307b0595d121fec6d7ce91c">tacho_run_forever</a>( OUTB | OUTC )</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <a class="code" href="group__brick.html#gad03fb048dad9e8d46b5e5b7d4f846b6d">sleep_ms</a>( 3000 )  <span class="comment"># 3 sec</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <a class="code" href="group__brick.html#ga334e277d936e26b1520b51d385299827">tacho_stop</a>( OUTB )</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <a class="code" href="group__brick.html#gad03fb048dad9e8d46b5e5b7d4f846b6d">sleep_ms</a>( 2000 )  <span class="comment"># 2 sec</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <a class="code" href="group__brick.html#ga334e277d936e26b1520b51d385299827">tacho_stop</a>( OUTC )</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<a class="code" href="group__brick.html#ga17470892412cad0d7a266c0fd0ce3f44">brick_uninit</a>()</div></div><!-- fragment --><p>See also – <a href="https://github.com/in4lio/ev3dev-c/blob/master/python/ev3dev/eg">Examples in Python</a></p>
<h4>Features of Ruby library:</h4>
<ol type="1">
<li>The functions return the requested value as the second element of the result tuple, the first element has a boolean type;</li>
<li>Access to the descriptors of detected devices only through <code>ev3_&lt;class&gt;_desc</code> or <code>ev3_&lt;class&gt;_desc_&lt;field&gt;</code> functions (e.g. <a class="el" href="group__ev3__dc.html#ga014665f338b84c3f0b9ea8bc0ce41a23">ev3_dc_desc</a>, <a class="el" href="group__ev3__dc.html#ga26327b802d80a31d5f8265636a87ec0c">ev3_dc_desc_port</a>).</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;include Ev3</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3_init</a>()</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<a class="code" href="group__ev3__sensor.html#gab75a13924c51b25877b32afe23a20819">ev3_sensor_init</a>()</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ok, sn = <a class="code" href="group__ev3__sensor.html#gab41914d0b717bdddcc3acf24a815d0f9">ev3_search_sensor</a>( LEGO_EV3_TOUCH )</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keywordflow">if</span> ok</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="keywordflow">while</span> <a class="code" href="group__ev3__sensor.html#ga79176947594e81b074496bdb1f63257e">get_sensor_value</a>( 0, sn )[ 1 ] == 0 do end</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;end</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3_uninit</a>()</div></div><!-- fragment --><p>See also – <a href="https://github.com/in4lio/ev3dev-c/blob/master/ruby/eg">Examples in Ruby</a></p>
<h4>Features of Perl library:</h4>
<ol type="1">
<li>The functions return the requested value as the second element of the result tuple;</li>
<li>Access to the descriptors of detected devices only through <code>ev3_&lt;class&gt;_desc_&lt;field&gt;</code> functions (e.g. <a class="el" href="group__ev3__tacho.html#ga921e1ecce8f2c097f1df2b0c1e5d1698">ev3_tacho_desc_type_inx</a>, <a class="el" href="group__ev3__tacho.html#ga2c8d40c39e5cfa36ff574edc73897646">ev3_tacho_desc_port</a>).</li>
</ol>
<div class="fragment"><div class="line">use ev3;</div><div class="line"></div><div class="line"><a class="code" href="group__ev3.html#gaaf70223547755b2055cfe26242f391cc">ev3::ev3_init</a>();</div><div class="line"><a class="code" href="group__ev3__tacho.html#gaa376f86876e36dfdf105b20d233ca246">ev3::ev3_tacho_init</a>();</div><div class="line">my ( $ok, $sn ) = <a class="code" href="group__ev3__tacho.html#ga0e9cac5217fc0c57b236780ad3f64495">ev3::ev3_search_tacho</a>( $ev3::LEGO_EV3_M_MOTOR );</div><div class="line"><span class="keywordflow">if</span> ( $ok ) {</div><div class="line">    <a class="code" href="group__ev3__tacho.html#gaf5209d3f9ea9bf2534a5844e129e6e44">ev3::set_tacho_speed_sp</a>( $sn, 500 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga0c3db3373e26f5543d5c66d0bd667e0d">ev3::set_tacho_command_inx</a>( $sn, $ev3::TACHO_RUN_FOREVER );</div><div class="line">    sleep( 2 );</div><div class="line">    <a class="code" href="group__ev3__tacho.html#ga0c3db3373e26f5543d5c66d0bd667e0d">ev3::set_tacho_command_inx</a>( $sn, $ev3::TACHO_STOP );</div><div class="line">}</div><div class="line"><a class="code" href="group__ev3.html#gac7c72e81e3d09d8840cf6fff0cd01bae">ev3::ev3_uninit</a>();</div></div><!-- fragment --><p>See also – <a href="https://github.com/in4lio/ev3dev-c/blob/master/perl/eg">Examples in Perl</a></p>
<p>Similarly you can use SWIG to wrap the library in a number of other languages. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 4 2017 11:41:54 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
